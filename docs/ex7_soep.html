<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title></title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 52px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 57px;
  margin-top: -57px;
}

.section h2 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h3 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h4 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h5 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h6 {
  padding-top: 57px;
  margin-top: -57px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Panel- and Multilevel Models</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Panel Exercises
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ex1_soep.html">Ex1</a>
    </li>
    <li>
      <a href="ex2_soep.html">Ex2</a>
    </li>
    <li>
      <a href="ex3_soep.html">Ex3</a>
    </li>
    <li>
      <a href="ex4_soep.html">Ex4</a>
    </li>
    <li>
      <a href="ex5_soep.html">Ex5</a>
    </li>
    <li>
      <a href="ex6_soep.html">Ex6</a>
    </li>
    <li>
      <a href="ex7_soep.html">Ex7</a>
    </li>
    <li>
      <a href="ex8_soep.html">Ex8</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Models
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Random Intercept</li>
    <li>
      <a href="1_rimodel.html">1. without independent variable</a>
    </li>
    <li>
      <a href="2_rimodel.html">2. with independent variable</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="3_rcmodel.html">3. Random Coefficient</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="4_crosslevelint.html">4. Cross-Level Interaction</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="5_crossclass.html">5. Cross-Classified</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="6_3level.html">6. Three Level</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="7_lrtest.html">7. Likelihood Ratio test</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Data Preparation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ex0_create.html">Exercises</a>
    </li>
    <li>
      <a href="0_create.html">Models</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/TripLLL">
    <span class="fa fa-github"></span>
     
    
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>




</div>


<div id="exercise-7" class="section level1 tabset">
<h1>Exercise 7</h1>
<div id="questions" class="section level2">
<h2>Questions</h2>
<p>7.1 Specify a random and a fixed effects model. Compare the results.</p>
<p>7.2 Execute the hausman test. Which model specification is more appropriate and why?</p>
</div>
<div id="data-prep" class="section level2 tabset">
<h2>Data Prep</h2>
<div id="stata" class="section level3">
<h3>Stata</h3>
<pre class="stata"><code>
set more off
capt clear
version 14

use &quot;_data/ex_mydf.dta&quot;, clear</code></pre>
<pre><code>
. 
. set more off

. capt clear

. version 14

. 
. use &quot;_data/ex_mydf.dta&quot;, clear
(PGEN: Feb 12, 2017 13:00:53-1 DBV32L)</code></pre>
</div>
<div id="r" class="section level3">
<h3>R</h3>
<div id="load-data" class="section level4">
<h4>Load Data</h4>
<pre class="r"><code>#### load dataset ####
ex_mydf &lt;- readRDS(file = &quot;_data/ex_mydf.rds&quot;)

asample &lt;- ex_mydf %&gt;% 
      filter(
            # Working Hours
            pgtatzeit &gt;= 6,
            # age
            alter %&gt;% dplyr::between(18, 65),
            # Employment Status
            pgemplst %in% c(1,2,4),   # full-time(1), part-time(2), marg.-empl(4)
            # population status
            pop &lt;= 2, # only private households
            # restrict number of years
            syear &gt; 2002) %&gt;%
      # filter unplausible cases
      mutate(na = case_when(
              pid %in% c(1380202, 1380202, 607602, 2555301) ~ 1,
              pid == 8267202 &amp; syear == 2007 ~ 1,
              pid == 2633801 &amp; syear == 2006 ~ 1,
              pid == 2582901 &amp; syear &gt; 2006 ~ 1 )
             ) %&gt;% 
      filter(is.na(na))

# Prepare Panel Dataset
p.asample &lt;- pdata.frame(asample, index = c(&quot;pid&quot;, &quot;syear&quot;))

# information if panel dataframe
pdim(p.asample)</code></pre>
<pre><code>## Unbalanced Panel: n = 37989, T = 1-13, N = 167978</code></pre>
<pre class="r"><code># summary(p.asample)</code></pre>
</div>
</div>
</div>
<div id="answers" class="section level2 active">
<h2>Answers</h2>
<div id="section" class="section level3 tabset">
<h3>7.1</h3>
<p><strong>Specify a random and a fixed effects model. Compare the results.</strong></p>
<div id="stata-1" class="section level4">
<h4>Stata</h4>
<pre class="stata"><code>use &quot;_data/ex_mydf.dta&quot;, clear

xtset pid syear
* FE model
xtreg lnwage pgbilzeit c.erf##c.erf pgexpue ost frau i.pgallbet i.syear if asample==1 &amp; syear&gt;2002 ,   fe
est sto fixed

* RE model 
xtreg lnwage pgbilzeit c.erf##c.erf pgexpue ost frau i.pgallbet i.syear if asample==1 &amp; syear&gt;2002 ,  re 
est sto random

esttab fixed random</code></pre>
<pre><code>
. use &quot;_data/ex_mydf.dta&quot;, clear
(PGEN: Feb 12, 2017 13:00:53-1 DBV32L)

. 
. xtset pid syear
       panel variable:  pid (unbalanced)
        time variable:  syear, 1984 to 2015, but with gaps
                delta:  1 unit

. * FE model
. xtreg lnwage pgbilzeit c.erf##c.erf pgexpue ost frau i.pgallbet i.syear if as
&gt; ample==1 &amp; syear&gt;2002 ,   fe
note: frau omitted because of collinearity

Fixed-effects (within) regression               Number of obs     =    156,029
Group variable: pid                             Number of groups  =     33,894

R-sq:                                           Obs per group:
     within  = 0.0401                                         min =          1
     between = 0.3541                                         avg =        4.6
     overall = 0.3156                                         max =         13

                                                F(21,122114)      =     242.73
corr(u_i, Xb)  = 0.1227                         Prob &gt; F          =     0.0000

------------------------------------------------------------------------------
      lnwage |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   pgbilzeit |   .0529867   .0023403    22.64   0.000     .0483998    .0575736
         erf |    .045247   .0015267    29.64   0.000     .0422547    .0482393
             |
 c.erf#c.erf |  -.0006661   .0000183   -36.33   0.000     -.000702   -.0006301
             |
     pgexpue |  -.0332011   .0032925   -10.08   0.000    -.0396543   -.0267478
         ost |  -.1209915   .0138824    -8.72   0.000    -.1482008   -.0937822
        frau |          0  (omitted)
             |
    pgallbet |
[2] GE 20..  |   .0495245   .0038447    12.88   0.000      .041989    .0570599
[3] GE 20..  |   .0771106   .0044952    17.15   0.000     .0683001    .0859211
[4] GE 2000  |   .0896249    .004655    19.25   0.000     .0805012    .0987486
[5] Selbs..  |  -.0717673   .0070217   -10.22   0.000    -.0855298   -.0580048
             |
       syear |
       2004  |  -.0172732   .0041979    -4.11   0.000    -.0255011   -.0090453
       2005  |  -.0460263   .0046925    -9.81   0.000    -.0552235   -.0368291
       2006  |  -.0833928   .0052421   -15.91   0.000    -.0936673   -.0731183
       2007  |  -.1048617   .0058791   -17.84   0.000    -.1163846   -.0933387
       2008  |  -.1178463   .0066686   -17.67   0.000    -.1309167   -.1047759
       2009  |   -.109741   .0074812   -14.67   0.000    -.1244041    -.095078
       2010  |  -.1125573   .0082187   -13.70   0.000    -.1286657   -.0964488
       2011  |  -.1263725   .0090593   -13.95   0.000    -.1441287   -.1086164
       2012  |  -.1278882   .0099357   -12.87   0.000    -.1473619   -.1084144
       2013  |  -.1120904   .0106497   -10.53   0.000    -.1329637   -.0912171
       2014  |  -.0969339   .0114189    -8.49   0.000    -.1193146   -.0745531
       2015  |  -.0739467   .0123574    -5.98   0.000     -.098167   -.0497265
             |
       _cons |   1.564629   .0348093    44.95   0.000     1.496403    1.632854
-------------+----------------------------------------------------------------
     sigma_u |  .48874503
     sigma_e |  .28535324
         rho |  .74577917   (fraction of variance due to u_i)
------------------------------------------------------------------------------
F test that all u_i=0: F(33893, 122114) = 8.99               Prob &gt; F = 0.0000

. est sto fixed

. 
. * RE model 
. xtreg lnwage pgbilzeit c.erf##c.erf pgexpue ost frau i.pgallbet i.syear if as
&gt; ample==1 &amp; syear&gt;2002 ,  re 

Random-effects GLS regression                   Number of obs     =    156,029
Group variable: pid                             Number of groups  =     33,894

R-sq:                                           Obs per group:
     within  = 0.0369                                         min =          1
     between = 0.4279                                         avg =        4.6
     overall = 0.3879                                         max =         13

                                                Wald chi2(23)     =          .
corr(u_i, X)   = 0 (assumed)                    Prob &gt; chi2       =          .

------------------------------------------------------------------------------
      lnwage |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   pgbilzeit |   .0802379   .0008554    93.81   0.000     .0785614    .0819144
         erf |   .0396457    .000537    73.83   0.000     .0385932    .0406982
             |
 c.erf#c.erf |  -.0006464   .0000129   -50.00   0.000    -.0006717    -.000621
             |
     pgexpue |    -.05377   .0012146   -44.27   0.000    -.0561506   -.0513894
         ost |  -.2602876   .0057363   -45.38   0.000    -.2715306   -.2490446
        frau |  -.1655567   .0050538   -32.76   0.000    -.1754619   -.1556514
             |
    pgallbet |
[2] GE 20..  |   .0832469   .0033899    24.56   0.000     .0766028    .0898909
[3] GE 20..  |   .1399706   .0038861    36.02   0.000     .1323539    .1475873
[4] GE 2000  |   .1697413   .0039608    42.85   0.000     .1619782    .1775044
[5] Selbs..  |  -.0827156   .0063581   -13.01   0.000    -.0951774   -.0702539
             |
       syear |
       1984  |          0  (empty)
       1985  |          0  (empty)
       1986  |          0  (empty)
       1987  |          0  (empty)
       1988  |          0  (empty)
       1989  |          0  (empty)
       1990  |          0  (empty)
       1991  |          0  (empty)
       1992  |          0  (empty)
       1993  |          0  (empty)
       1994  |          0  (empty)
       1995  |          0  (empty)
       1996  |          0  (empty)
       1997  |          0  (empty)
       1998  |          0  (empty)
       1999  |          0  (empty)
       2000  |          0  (empty)
       2001  |          0  (empty)
       2002  |          0  (empty)
       2003  |   1.336591   .0125562   106.45   0.000     1.311981    1.361201
       2004  |   1.321806   .0125879   105.01   0.000     1.297134    1.346478
       2005  |   1.296002   .0126865   102.16   0.000     1.271137    1.320867
       2006  |   1.261972   .0127316    99.12   0.000     1.237018    1.286925
       2007  |   1.243458   .0127611    97.44   0.000     1.218447    1.268469
       2008  |    1.23416   .0128557    96.00   0.000     1.208964    1.259357
       2009  |   1.245013   .0129041    96.48   0.000     1.219722    1.270305
       2010  |   1.243918   .0128664    96.68   0.000     1.218701    1.269136
       2011  |   1.233039   .0128811    95.72   0.000     1.207793    1.258286
       2012  |   1.231218   .0129403    95.15   0.000     1.205856    1.256581
       2013  |   1.251511   .0128542    97.36   0.000     1.226317    1.276705
       2014  |   1.264077   .0130704    96.71   0.000      1.23846    1.289695
       2015  |   1.289241    .013119    98.27   0.000     1.263528    1.314953
             |
       _cons |          0  (omitted)
-------------+----------------------------------------------------------------
     sigma_u |  .41250016
     sigma_e |  .28535324
         rho |  .67634333   (fraction of variance due to u_i)
------------------------------------------------------------------------------

. est sto random

. 
. esttab fixed random

--------------------------------------------
                      (1)             (2)   
                   lnwage          lnwage   
--------------------------------------------
pgbilzeit          0.0530***       0.0802***
                  (22.64)         (93.81)   

erf                0.0452***       0.0396***
                  (29.64)         (73.83)   

c.erf#c.erf     -0.000666***    -0.000646***
                 (-36.33)        (-50.00)   

pgexpue           -0.0332***      -0.0538***
                 (-10.08)        (-44.27)   

ost                -0.121***       -0.260***
                  (-8.72)        (-45.38)   

frau                    0          -0.166***
                      (.)        (-32.76)   

1.pgallbet              0               0   
                      (.)             (.)   

2.pgallbet         0.0495***       0.0832***
                  (12.88)         (24.56)   

3.pgallbet         0.0771***        0.140***
                  (17.15)         (36.02)   

4.pgallbet         0.0896***        0.170***
                  (19.25)         (42.85)   

5.pgallbet        -0.0718***      -0.0827***
                 (-10.22)        (-13.01)   

2003.syear              0           1.337***
                      (.)        (106.45)   

2004.syear        -0.0173***        1.322***
                  (-4.11)        (105.01)   

2005.syear        -0.0460***        1.296***
                  (-9.81)        (102.16)   

2006.syear        -0.0834***        1.262***
                 (-15.91)         (99.12)   

2007.syear         -0.105***        1.243***
                 (-17.84)         (97.44)   

2008.syear         -0.118***        1.234***
                 (-17.67)         (96.00)   

2009.syear         -0.110***        1.245***
                 (-14.67)         (96.48)   

2010.syear         -0.113***        1.244***
                 (-13.70)         (96.68)   

2011.syear         -0.126***        1.233***
                 (-13.95)         (95.72)   

2012.syear         -0.128***        1.231***
                 (-12.87)         (95.15)   

2013.syear         -0.112***        1.252***
                 (-10.53)         (97.36)   

2014.syear        -0.0969***        1.264***
                  (-8.49)         (96.71)   

2015.syear        -0.0739***        1.289***
                  (-5.98)         (98.27)   

1984.syear                              0   
                                      (.)   

1985.syear                              0   
                                      (.)   

1986.syear                              0   
                                      (.)   

1987.syear                              0   
                                      (.)   

1988.syear                              0   
                                      (.)   

1989.syear                              0   
                                      (.)   

1990.syear                              0   
                                      (.)   

1991.syear                              0   
                                      (.)   

1992.syear                              0   
                                      (.)   

1993.syear                              0   
                                      (.)   

1994.syear                              0   
                                      (.)   

1995.syear                              0   
                                      (.)   

1996.syear                              0   
                                      (.)   

1997.syear                              0   
                                      (.)   

1998.syear                              0   
                                      (.)   

1999.syear                              0   
                                      (.)   

2000.syear                              0   
                                      (.)   

2001.syear                              0   
                                      (.)   

2002.syear                              0   
                                      (.)   

_cons               1.565***            0   
                  (44.95)             (.)   
--------------------------------------------
N                  156029          156029   
--------------------------------------------
t statistics in parentheses
* p&lt;0.05, ** p&lt;0.01, *** p&lt;0.001</code></pre>
</div>
<div id="r-1" class="section level4 tabset active">
<h4>R</h4>
<div id="model" class="section level5">
<h5>Model</h5>
<p>Fixed Effects Model</p>
<pre class="r"><code># FE Model
fixed   &lt;- p.asample %&gt;% 
      plm(lnwage ~  pgbilzeit + erf + I(erf^2) + pgexpue + ost + pgallbet + syear,
             data = ., 
             model = &quot;within&quot; 
             # weights = phrf
             )

tidy(fixed$coefficients[1:30])</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["names"],"name":[1],"type":["chr"],"align":["left"]},{"label":["x"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"pgbilzeit","2":"0.05284"},{"1":"erf","2":"0.04518"},{"1":"I(erf^2)","2":"-0.00067"},{"1":"pgexpue","2":"-0.03421"},{"1":"osteast","2":"-0.12483"},{"1":"pgallbet","2":"0.00869"},{"1":"syear2004","2":"-0.01750"},{"1":"syear2005","2":"-0.04607"},{"1":"syear2006","2":"-0.08378"},{"1":"syear2007","2":"-0.10455"},{"1":"syear2008","2":"-0.11729"},{"1":"syear2009","2":"-0.10864"},{"1":"syear2010","2":"-0.11132"},{"1":"syear2011","2":"-0.12527"},{"1":"syear2012","2":"-0.12526"},{"1":"syear2013","2":"-0.10924"},{"1":"syear2014","2":"-0.09401"},{"1":"syear2015","2":"-0.07065"},{"1":"NA","2":"NA"},{"1":"NA","2":"NA"},{"1":"NA","2":"NA"},{"1":"NA","2":"NA"},{"1":"NA","2":"NA"},{"1":"NA","2":"NA"},{"1":"NA","2":"NA"},{"1":"NA","2":"NA"},{"1":"NA","2":"NA"},{"1":"NA","2":"NA"},{"1":"NA","2":"NA"},{"1":"NA","2":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Random Model</p>
<pre class="r"><code># RE Model
random  &lt;- plm(lnwage ~  pgbilzeit + erf + I(erf^2) + pgexpue + ost + pgallbet + syear,
             data = p.asample, 
             model = &quot;random&quot; 
             # weights = phrf
             )

tidy(random)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["term"],"name":[1],"type":["chr"],"align":["left"]},{"label":["estimate"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["std.error"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["statistic"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["p.value"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"(Intercept)","2":"1.24480","3":"1.2e-02","4":"104.8","5":"0.0e+00"},{"1":"pgbilzeit","2":"0.08063","3":"8.3e-04","4":"97.1","5":"0.0e+00"},{"1":"erf","2":"0.04168","3":"5.3e-04","4":"78.8","5":"0.0e+00"},{"1":"I(erf^2)","2":"-0.00065","3":"1.3e-05","4":"-50.6","5":"0.0e+00"},{"1":"pgexpue","2":"-0.05618","3":"1.2e-03","4":"-47.5","5":"0.0e+00"},{"1":"osteast","2":"-0.27193","3":"5.6e-03","4":"-48.8","5":"0.0e+00"},{"1":"pgallbet","2":"0.02918","3":"1.1e-03","4":"27.0","5":"6.7e-160"},{"1":"syear2004","2":"-0.01692","3":"4.1e-03","4":"-4.1","5":"4.2e-05"},{"1":"syear2005","2":"-0.04422","3":"4.3e-03","4":"-10.3","5":"4.8e-25"},{"1":"syear2006","2":"-0.08048","3":"4.3e-03","4":"-18.6","5":"3.3e-77"},{"1":"syear2007","2":"-0.09978","3":"4.3e-03","4":"-23.1","5":"4.1e-118"},{"1":"syear2008","2":"-0.11020","3":"4.5e-03","4":"-24.7","5":"6.5e-135"},{"1":"syear2009","2":"-0.10061","3":"4.5e-03","4":"-22.5","5":"5.5e-112"},{"1":"syear2010","2":"-0.10267","3":"4.4e-03","4":"-23.6","5":"1.0e-122"},{"1":"syear2011","2":"-0.11612","3":"4.3e-03","4":"-27.1","5":"1.3e-161"},{"1":"syear2012","2":"-0.11780","3":"4.3e-03","4":"-27.1","5":"3.7e-161"},{"1":"syear2013","2":"-0.09770","3":"4.3e-03","4":"-22.5","5":"2.6e-112"},{"1":"syear2014","2":"-0.08714","3":"4.5e-03","4":"-19.6","5":"5.1e-85"},{"1":"syear2015","2":"-0.06207","3":"4.5e-03","4":"-13.7","5":"1.7e-42"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="plot" class="section level5">
<h5>Plot</h5>
</div>
</div>
</div>
<div id="section-1" class="section level3 tabset">
<h3>7.2</h3>
<p><strong>Execute the hausman test. Which model specification is more appropriate and why?</strong></p>
<div id="stata-2" class="section level4">
<h4>Stata</h4>
<pre class="stata"><code>use &quot;_data/ex_mydf.dta&quot;, clear

xtreg lnwage pgbilzeit c.erf##c.erf pgexpue ost frau i.pgallbet i.syear if asample==1 &amp; syear&gt;2002 ,   fe
estimates store fixed

xtreg lnwage pgbilzeit c.erf##c.erf pgexpue ost frau i.pgallbet i.syear if asample==1 &amp; syear&gt;2002 ,  re 
estimates store random

hausman fixed random</code></pre>
<pre><code>
. use &quot;_data/ex_mydf.dta&quot;, clear
(PGEN: Feb 12, 2017 13:00:53-1 DBV32L)

. 
. xtreg lnwage pgbilzeit c.erf##c.erf pgexpue ost frau i.pgallbet i.syear if as
&gt; ample==1 &amp; syear&gt;2002 ,   fe
must specify panelvar; use xtset
r(459);

end of do-file
r(459);</code></pre>
</div>
<div id="r-2" class="section level4 tabset active">
<h4>R</h4>
<div id="test" class="section level5">
<h5>Test</h5>
<pre class="r"><code># Hausman Test
hausman &lt;- phtest(fixed, random)

hausman</code></pre>
<pre><code>## 
##  Hausman Test
## 
## data:  lnwage ~ pgbilzeit + erf + I(erf^2) + pgexpue + ost + pgallbet +  ...
## chisq = 2000, df = 20, p-value &lt;2e-16
## alternative hypothesis: one model is inconsistent</code></pre>
</div>
<div id="more-info" class="section level5">
<h5>More Info</h5>
<p>other things</p>
<pre class="r"><code>pvar(p.asample)</code></pre>
<pre><code>## no time variation:       psample sex gebjahr pid cid pgpbbilo pgbilztev frau na 
## no individual variation: syear pgerljob pgbetr pgoeffd pgausb pgpartnr pgpsbil pgpbbil01 pgpbbil02 pgpbbil03 pgpsbila pgpbbila pgpsbilo pgpbbilo pgfamstd pgbilzeit pgerwzeit pgvebzeit pguebstd pgisco88 pgisei88 pgmps92 pgnace pgsiops88 pgegp88 pgkldb92 pgautono pgisced97 pgcasmin pgstib pgallbet pgexpft pgexppt pgexpue pgfield pgdegree pgtraina pgtrainb pgtrainc pgtraind pgfdt_f pgbilztch pgbilztev pgsndjob pgimpsnd pgjobend pgkldb10 pgisco08 pgisced11 cpi adj_fac2010 adj_fac2015 cpi_s lnwage erf erfq qualstand intern cpgbilzeit cerf na 
## all NA in time dimension for at least one individual:  pgerljob pgbetr pgoeffd pgausb pgpartz pgpartnr pgnation pgpsbil pgpbbil01 pgpbbil02 pgpbbil03 pgpsbila pgpbbila pgpsbilo pgpbbilo pgfamstd pgbilzeit pgerwzeit pgvebzeit pguebstd pgisco88 pgisei88 pgmps92 pgnace pgsiops88 pgegp88 pgkldb92 pgautono pgisced97 pgcasmin pgstib pgallbet pgexpft pgexppt pgexpue pgfield pgdegree pgtraina pgtrainb pgtrainc pgtraind pgfdt_f pgbilztch pgbilztev pgsndjob pgimpsnd pgjobend pgkldb10 pgisco08 pgisced11 lnwage erf erfq qualstand intern cpgbilzeit cerf na 
## all NA in ind. dimension for at least one time period: pgerljob pgbetr pgoeffd pgausb pgpartz pgpartnr pgnation pgpsbil pgpbbil01 pgpbbil02 pgpbbil03 pgpsbila pgpbbila pgpsbilo pgpbbilo pgfamstd pgbilzeit pgerwzeit pgvebzeit pguebstd pgisco88 pgisei88 pgmps92 pgnace pgsiops88 pgegp88 pgkldb92 pgautono pgisced97 pgcasmin pgstib pgallbet pgexpft pgexppt pgexpue pgfield pgdegree pgtraina pgtrainb pgtrainc pgtraind pgfdt_f pgbilztch pgbilztev pgsndjob pgimpsnd pgjobend pgkldb10 pgisco08 pgisced11 lnwage erf erfq qualstand intern cpgbilzeit cerf na</code></pre>
</div>
</div>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
